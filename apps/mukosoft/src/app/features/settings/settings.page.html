<ion-content [fullscreen]="true">
  <div class="mx-auto w-11/12 m-4 p-4 bg-white rounded-md shadow-lg">
    <ion-grid class="p-0">
      <ion-row>
        <mukosoft-user-avatar
          class="mx-auto my-8 h-36 w-36"
          [imageUpload]="true"
        ></mukosoft-user-avatar>
      </ion-row>
      <ion-row>
        <ion-grid class="p-0">
          <ion-row>
            <mukosoft-heading>
              {{ "settings.profile.title" | translate }}
            </mukosoft-heading>
          </ion-row>
          <ion-row>
            <mukosoft-text>
              {{ "settings.profile.description" | translate }}
            </mukosoft-text>
          </ion-row>
          <ion-row>
            <div class="flex flex-col w-full my-1">
              <mukosoft-label>
                {{ "settings.profile.name" | translate }}
              </mukosoft-label>
              <mukosoft-input
                type="text"
                [labelId]="nameLabel"
                [value]="name | async"
                (onIonChange)="setNewName($event)"
              ></mukosoft-input>
            </div>
          </ion-row>
          <ion-row>
            <div class="flex flex-col w-full my-1">
              <mukosoft-label>
                {{ "settings.profile.birthdate" | translate }}
              </mukosoft-label>

              <ion-button
                class="w-full"
                color="secondary"
                fill="outline"
                (click)="modal.isOpen = !modal.isOpen"
              >
                {{birthDate | date}}
              </ion-button>
            </div>
          </ion-row>
        </ion-grid>
      </ion-row>
    </ion-grid>
    <div class="flex flex-col pt-6">
      <ion-button color="secondary" expand="block" (click)="save()">
        <ion-icon name="save" class="mr-2"></ion-icon>
        <ion-text>{{ "settings.save" | translate }}</ion-text>
      </ion-button>
      <ion-text color="secondary" class="text-sm opacity-80 italic">
        {{"settings.version"|translate}}: {{appVersion}}
      </ion-text>
    </div>
  </div>

  <ion-modal
    #modal
    [keepContentsMounted]="true"
    (ionModalDidDismiss)="modal.isOpen = false"
  >
    <ng-template>
      <ion-datetime id="datetime" [showDefaultButtons]="true"></ion-datetime>
    </ng-template>
  </ion-modal>
</ion-content>
